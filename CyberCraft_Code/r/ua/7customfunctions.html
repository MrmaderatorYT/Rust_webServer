<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
<h1>Користувацькі функції</h1>
<p>В мові програмування R можна створити функції. Вони допомагають організувати код таким чином, щоб не повторювати його. Найпростіша функціїя - <b>print</b>, яка виводить значення на консоль. Ось звичайний приклад створення функції:</p>
<div id="bg">
	x &lt;- <span id = "key">function</span>(a, b){<br>
	result &lt;- a + b<br>
	return(result)<br>
	}
</div>
<p>В даному випадку ми створюємо функцію х звичайним оголошенням змінної, лише замість значення написали ключове слово <b>function</b>, далі ми відкриваємо дужки, щоб створити аргументи для нашої функції, які буть в неї використовуватися. Тепер, якщо ми викличемо цю функцію, то ми повинні записати значення у фігурних дужках:</p>
<div id = "bg">
x(<span id = "number">5</span>, <span id = "number">4</span>)<br>
<span id = "text">#9</span>
</div>
Отже, в даному випадку ми використали функцію <b>x</b>. Ця функція обов'язково має прийняти два значення, так як ми записали два аргумента під час її створення.<br>Але, що якщо нам потрібно не приймати ніяких аргументів? В такому випадку, ми можемо просто прибрати аргументи:
<div id = "bg">
a &lt;- <span id = "number">1</span>
x &lt;- <span id = "key">function</span>(){<br>
	print(a)<br>
	a &lt;- a + <span id = "number">1</span><br>
	}<br>
x()<br>
x()<br>
</div>
В даному прикладі ми отрмаємо в консолі такі значення:
<div id = "bg">
<span id = "text">
#1<br>
#1</span>
</div>
Як так вийшло?<br>
Дуже просто, ми використовуємо змінну <b>a</b>, яка є лише у функції, а не використовуємо глобальну зміну <b>a</b>. Щоб викорисовувати зміну, яка є поза блоками, тобто глобальна - треба використовувати додатковий символ '&lt;':
<div id = "bg">
a &lt;- <span id = "number">1</span>
x &lt;- <span id = "key">function</span>(){<br>
	print(a)<br>
	a &lt;- a + <span id = "number">1</span><br>
	}<br>
x()<br>
x()<br>
<span id = "text">
#1<br>
#2</span>
</div>
Але якщо якийсь чувак не записав якийсь аргумент, що робити? Для цього є стандартне значення змінної (значення за замовчуванням):
<div id = "bg">
greet &lt;- <span id = "key">function</span>(name = <span id = "text">"world"</span>){<br>
print(paste(<span id = "text">"Hello, "</span>, name))<br>
}<br>
greet() <span id = "text">#Hello, world</span><br>
greet(<span id = "text">"Alice"</span>)<span id = "text"> Hello Alice</span>
</div>
В даному випадку, стандартне значення аргумента функції є <b>world</b>, але може бути як і число так і логічне значення.<br>
Тепер давайте розглянмо функцію <b>print</b>. Її оголошення таке:
<div id = "bg">
print &lt;- <span id = "key">function</span>(x, ...){<br>
<span id = "text">#Далі нам не цікаво...</span><br>
}
</div>
Отже, тут в дужках аргументах вказано два значення: <b>x</b> і <b>...</b>. Розберемося з <b>...</b><br>
<span id = "name">Аргумент-оператори</span> або ж <b>...</b> - оператор, який дозволяє передавати довільну кількість аргументів. Як це працює?
<div id = "bg">
x &lt;- <span id = "key">function</span>(a, b, c){<br>
Щось там далі<br>
}
</div>
В даному випадку ми оголосили функцію <b>x</b>, яка приймає три аргумента, тобто при виклику її ми будемо викорисовувати таким чином:
<div id = "bg">
x(1, 2, 3)
</div>
Тобто не більше і не менше 3х значень. Якщо ми додамо аргумент-оператор, тобто:
<div id = "bg">
x &lt;- <span id = "key">function</span>(..., prefix = <span id = "text">"Console"</span>){<br>
message &lt;- paste(prefix, ...)<br>
print(message)<br>
}
</div>
В даному випадку ми стоврили функцію <b>x</b>, яка приймає 2 аргументи. Якщо викликати таким чином функцію:
<div id = "bg">
x()
</div>
То ми в консолі отрмаємо текст <b>Console</b>, так як це значення є обов'язковим, але воно має стандартне зачення. Якщо не було б стандартного значення, то була б помилка.<br>
Тепер давайте щось запишемо в цих дужках:
<div id = "bg">
x(<span id = "text">"Hello"</span>, <span id = "text">", Person"</span>, prefix = <span id = "text">">>>"</span>)<br>
<span id = "text"># >>> Hello , Person</span>
</div>
У функції <b>x</b> є функція <b>paste</b>, яка з'єднує значення між собою і ці значення будуть розділені пробілом, саме тому у нас буде пробіл перед комою і після <b>>>></b>
<h4>Функції як аргументи</h4>
Ми можемо використовувати функції для передачі іншій функції як аргумент:
<div id = "bg">
apply_operation &lt;- <span id = "key">function</span>(x, func) {<br>
  result &lt;- func(x)<br>
  return(result)<br>
}<br>
square &lt;- <span id = "key">function</span>(x) {<br>
  return(x^<span id = "number">2</span>)<br>
}<br>
apply_operation(<span id = "number">4</span>, square) <span id = "text">#16</span>
</div>
Розбираємся. Перший рядок - створення функції <b>apply_operation</b>, яка приймає два аргументи - <b>x</b>, <b>func</b>.<br>Другий рядок - функція передана в <b>func</b> і застосована до аргументу <b>x</b> і результат зберігається в змінній <b> result</b>.<br>
Третій рядок повертає значення змінної <b>result</b>.<br>
П'ятий рядок - створення функції <b>square</b> із аргументом <b>x</b>.<br>
Шостий рядок - повернення аргументу <b>x</b> який підноситься у другий степінь.<br>
Восьмий рядок - виклик Функції <b>apply_operation</b> з аргументом числа 4 та функції <b>square</b>, яке підносить до квадрата це число 4. І так отримали ми число 16.
</body>
</html>